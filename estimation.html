<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/v4-shims.min.css" />
    <link rel="stylesheet" href="css/estimation.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/settings-dropdown.css" />
    <title>Report | Price Estimation</title>
    
</head>
<body>
    <!-- Top Navigation -->
    <div class="top-nav">
        <h1>
            <span class="logo"></span>
            Price Estimation
        </h1>
        <div class="top-nav-icons">
            <button class="icon-btn"><i class="fas fa-cog"></i></button>
            <button class="icon-btn"><i class="fas fa-user-circle"></i></button>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <a href="dashboard.html" class="nav-item">Dashboard</a>
        <a href="management.html" class="nav-item">Management</a>
        <a href="task.html" class="nav-item">Tasks</a>
        <a href="report.html" class="nav-item">Report</a>
        <a href="estimation.html" class="nav-item active">Estimation</a>
        <a href="profile.html" class="nav-item">Profile</a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Fixed Header Section -->
        <div class="fixed-header">
            <div class="page-header">
                <h2>Price Estimation</h2>
            </div>
        </div>
        
        <!-- Estimation Container -->
        <div class="estimation-container">
            <!-- Form Page (Initial View) -->
            <div id="form-page" class="form-page">
                <!-- Property Information Input Form -->
                <div class="property-form-box">
                    <h3>Property Information</h3>
                    <div class="form-grid">
                        <div class="form-field">
                            <label for="name">Name:</label>
                            <input type="text" id="name" placeholder="Enter property owner name">
                        </div>
                        <div class="form-field">
                            <label for="address">Address:</label>
                            <input type="text" id="address" placeholder="Enter property address">
                        </div>
                        <div class="form-field">
                            <label for="property-size">Property size:</label>
                            <input type="number" id="property-size" placeholder="Enter size in sqm">
                        </div>
                        <div class="form-field">
                            <label for="current-price">Current price:</label>
                            <input type="number" id="current-price" placeholder="Enter current price">
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="form-actions">
                    <button class="btn-clear" onclick="clearForm()">Clear</button>
                    <button class="btn-estimate" onclick="performEstimation()">Estimate</button>
                </div>
            </div>

            <!-- Results Section (Hidden by default) -->
            <div id="results-section" class="results-section">
                <!-- Chart and Metrics Container -->
                <div class="results-container">
                    <!-- Price History Chart -->
                    <div class="chart-container">
                        <div class="chart-header">Price History</div>
                        <div class="chart-content">
                            <div class="price-chart">
                                <svg class="chart-svg" viewBox="0 0 500 200">
                                    <!-- Grid lines -->
                                    <defs>
                                        <pattern id="grid" width="83.33" height="40" patternUnits="userSpaceOnUse">
                                            <path d="M 83.33 0 L 0 0 0 40" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#grid)" />
                                    
                                    <!-- Area under curve -->
                                    <path id="price-area" class="price-area" d=""></path>
                                    
                                    <!-- Price line -->
                                    <path id="price-line" class="price-line" d=""></path>
                                    
                                    <!-- Data points -->
                                    <g id="chart-points"></g>
                                </svg>
                            </div>
                            <!-- YEAR LABELS OUTSIDE CHART -->
                            <div class="year-labels">
                                <span>2021</span>
                                <span>2022</span>
                                <span>2023</span>
                                <span>2024</span>
                                <span>2025</span>
                                <span style="color: #ff4444; font-weight: bold;">2026</span>
                            </div>
                        </div>
                    </div>

                    <!-- Metrics Panel -->
                    <div class="metrics-container">
                        <div class="metric-box">
                            <div class="metric-label">Current Price:</div>
                            <div class="metric-value" id="current-price-display">₱ 123,000</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Estimated Price:</div>
                            <div class="metric-value" id="estimated-price-display">₱ 170,000</div>
                        </div>
                        <div class="metric-box">
                            <div class="metric-label">Price Projection:</div>
                            <div class="metric-value" id="profit-projection-display">₱ 47,000</div>
                        </div>
                    </div>
                </div>

                <!-- Property Info Section -->
                <div class="property-section">
                    <div class="property-info-container">
                        <div class="property-header">Property Information</div>
                        <div class="property-content">
                            <div class="property-grid">
                                <div class="property-item">
                                    <span class="property-label">Name</span>
                                    <span class="property-value" id="info-name">: Vert Valencia</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">Address</span>
                                    <span class="property-value" id="info-address">: Sitio Paninaan Carangian</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">Property Size</span>
                                    <span class="property-value" id="info-size">: 1,230</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">Current Price / sqm</span>
                                    <span class="property-value" id="current-price-sqm">: Calculated</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2026 Price / sqm</span>
                                    <span class="property-value" id="price-2026">: Projected</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2025 Price / sqm</span>
                                    <span class="property-value" id="price-2025">: 100</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2024 Price / sqm</span>
                                    <span class="property-value" id="price-2024">: 85</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2023 Price / sqm</span>
                                    <span class="property-value" id="price-2023">: 73</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2022 Price / sqm</span>
                                    <span class="property-value" id="price-2022">: 61</span>
                                </div>
                                <div class="property-item">
                                    <span class="property-label">2021 Price / sqm</span>
                                    <span class="property-value" id="price-2021">: 52</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn-clear" onclick="clearResults()">Clear</button>
                        <button class="btn-download" onclick="downloadReport()">Download</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="script/settings-dropdown.js"></script>
    <script src="script/estimation.js"></script>
</body>
</html>
